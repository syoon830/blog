{"_path":"/posts/2c7bdebd-8baa-46a1-b05b-61bda16d93f4","_dir":"posts","_draft":false,"_partial":false,"_locale":"","title":"자바스크립트 - 12. let, const 키워드와 블록 레벨 스코프","description":"","tags":["javascript"],"date":"2024-02-19T00:00:00.000Z","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"var-키워드의-문제점"},"children":[{"type":"text","value":"var 키워드의 문제점"}]},{"type":"element","tag":"h2","props":{"id":"_1-변수-중복-선언-허용"},"children":[{"type":"text","value":"1. 변수 중복 선언 허용"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"이미 선언된 변수의 값이 변경되는 부작용 발생"}]}]},{"type":"element","tag":"pre","props":{"className":["language-javascript"],"code":"var x = 1;\nvar y = 1;\n\n// var 키워드로 선언된 변수는 같은 스코프 내에서 중복 선언을 허용한다.\n// 초기화문이 있는 변수 선언문은 자바스크립트 엔진에 의해 var 키워드가 없는 것처럼 동작한다.\nvar x = 100;\n// 초기화가 없는 변수 선언문은 무시된다.\nvar y;\n\nconsole.log(x); // 100\nconsole.log(y); // 1\n","language":"javascript","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"var x = 1;\nvar y = 1;\n\n// var 키워드로 선언된 변수는 같은 스코프 내에서 중복 선언을 허용한다.\n// 초기화문이 있는 변수 선언문은 자바스크립트 엔진에 의해 var 키워드가 없는 것처럼 동작한다.\nvar x = 100;\n// 초기화가 없는 변수 선언문은 무시된다.\nvar y;\n\nconsole.log(x); // 100\nconsole.log(y); // 1\n"}]}]},{"type":"element","tag":"h2","props":{"id":"_2-함수-레벨-스코프"},"children":[{"type":"text","value":"2. 함수 레벨 스코프"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"오로지 함수의 코드 블록만을 지역 스코프로 인정한다."}]}]},{"type":"element","tag":"pre","props":{"className":["language-javascript"],"code":"var x = 1;\n\nif (true) {\n    var x = 10;\n}\nconsole.log(x); // 10\n","language":"javascript","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"var x = 1;\n\nif (true) {\n    var x = 10;\n}\nconsole.log(x); // 10\n"}]}]},{"type":"element","tag":"pre","props":{"className":["language-javascript"],"code":"var i = 10;\n\nfor (var i = 0; i < 5; i++) {\n    console.log(i); // 0 1 2 3 4 5\n}\nconsole.log(i); // 5\n","language":"javascript","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"var i = 10;\n\nfor (var i = 0; i < 5; i++) {\n    console.log(i); // 0 1 2 3 4 5\n}\nconsole.log(i); // 5\n"}]}]},{"type":"element","tag":"h2","props":{"id":"_3-변수-호이스팅"},"children":[{"type":"text","value":"3. 변수 호이스팅"}]},{"type":"element","tag":"pre","props":{"className":["language-javascript"],"code":"console.log(foo);\n\nfoo = 123;\n\nconsole.log(foo);\n\nvar foo;\n","language":"javascript","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"console.log(foo);\n\nfoo = 123;\n\nconsole.log(foo);\n\nvar foo;\n"}]}]},{"type":"element","tag":"h1","props":{"id":"let-키워드"},"children":[{"type":"text","value":"let 키워드"}]},{"type":"element","tag":"h2","props":{"id":"_1-변수-중복-선언-금지"},"children":[{"type":"text","value":"1. 변수 중복 선언 금지"}]},{"type":"element","tag":"pre","props":{"className":["language-javascript"],"code":"var foo = 123;\nvar foo = 456;\n\nlet bar = 123;\nlet bar = 123; // SyntaxError\n","language":"javascript","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"var foo = 123;\nvar foo = 456;\n\nlet bar = 123;\nlet bar = 123; // SyntaxError\n"}]}]},{"type":"element","tag":"h2","props":{"id":"_2-블록-레벨-스코프"},"children":[{"type":"text","value":"2. 블록 레벨 스코프"}]},{"type":"element","tag":"pre","props":{"className":["language-javascript"],"code":"let foo = 1;\n\n{\n    let foo = 2;\n    let bar = 3;\n}\nconsole.log(foo); // 1\nconsole.log(bar); // ReferenceError\n","language":"javascript","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"let foo = 1;\n\n{\n    let foo = 2;\n    let bar = 3;\n}\nconsole.log(foo); // 1\nconsole.log(bar); // ReferenceError\n"}]}]},{"type":"element","tag":"h2","props":{"id":"_3-변수-호이스팅-1"},"children":[{"type":"text","value":"3. 변수 호이스팅"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"var 키워드는 런타임 이전에 선언 단계와 초기화 단계가 한번에 진행됨"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"let 키워드는 런타임 이전에 선언 단계와 초기화 단계가 분리되어 진행\n"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"let 키워드로 선언한 변수는 스코프의 시작 지점부터 초기화 단계 시작 지점(변수 선언문)까지 변수를 참조할 수 없다. 스코프의 시작 지점부터 초기화 시작 시작 지점까지 변수를 참조할 수 없는 구간을 일시적 사각지대(TDZ)라고 부른다."}]}]}]}]},{"type":"element","tag":"pre","props":{"className":["language-javascript"],"code":"console.log(foo); // ReferenceError\nlet foo;\n","language":"javascript","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"console.log(foo); // ReferenceError\nlet foo;\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"\\n"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"let 키워드는 호이스팅이 발생하지 않는 것처럼 보인다. 하지만 그렇지 않다. 아래 코드를 보면 호이스팅이 발생하지 않는다면 1이 출력 되어야 하는데 참조 에러가 발생한다."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"자바스크립트는 모든 선언을 호이스팅한다. (단, let, const class를 사용한 선언문은 호이스팅이 발생하지 않는 것처럼 동작한다.)"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"간단히 말해서, let과 const는 선언된 블록 스코프 내에서 선언 지점 이전에는 \"존재하지 않는 것\"처럼 취급된다. 이 구간을 TDZ라고 한다."}]}]},{"type":"element","tag":"pre","props":{"className":["language-javascript"],"code":"let foo = 1;\n{\n    console.log(foo); // TDZ\n    let foo = 2; // 초기화 시작 지점\n}\n","language":"javascript","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"let foo = 1;\n{\n    console.log(foo); // TDZ\n    let foo = 2; // 초기화 시작 지점\n}\n"}]}]},{"type":"element","tag":"h2","props":{"id":"_4-전역-객체와-let"},"children":[{"type":"text","value":"4. 전역 객체와 let"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"전역으로 선언한 var는 window 객체에 프로퍼티가 된다."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"let 키워드로 선언한 전연 변수는 window 객체에 프로퍼티가 아니다.\n"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"let 전역 변수는 보이지 않는 개념적인 블록내에 존재한다."}]}]}]}]},{"type":"element","tag":"pre","props":{"className":["language-javascript"],"code":"var x = 1;\ny = 2;\n\nfunction foo(){}\n\nconsole.log(window.x);\nconsole.log(window.y);\nconsole.log(window.foo);\n\n-------\n\nlet x = 1;\nconsole.log(window.x); // undefined\n","language":"javascript","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"var x = 1;\ny = 2;\n\nfunction foo(){}\n\nconsole.log(window.x);\nconsole.log(window.y);\nconsole.log(window.foo);\n\n-------\n\nlet x = 1;\nconsole.log(window.x); // undefined\n"}]}]},{"type":"element","tag":"h1","props":{"id":"const-키워드"},"children":[{"type":"text","value":"const 키워드"}]},{"type":"element","tag":"h2","props":{"id":"_1-선언과-초기화"},"children":[{"type":"text","value":"1. 선언과 초기화"}]},{"type":"element","tag":"pre","props":{"className":["language-javascript"],"code":"const foo = 1;\n\nconst foo; // SyntaxError\n","language":"javascript","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"const foo = 1;\n\nconst foo; // SyntaxError\n"}]}]},{"type":"element","tag":"h2","props":{"id":"_2-재할당-금지"},"children":[{"type":"text","value":"2. 재할당 금지"}]},{"type":"element","tag":"pre","props":{"className":["language-javascript"],"code":"const foo = 1;\nfoo = 2; // TypeError\n","language":"javascript","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"const foo = 1;\nfoo = 2; // TypeError\n"}]}]},{"type":"element","tag":"h2","props":{"id":"_3-상수"},"children":[{"type":"text","value":"3. 상수"}]},{"type":"element","tag":"pre","props":{"className":["language-javascript"],"code":"const TAX_RATE = 0.1;\n\nlet preTaxPrice = 100;\n\nlet afterTaxPrice = preTaxPrice + (preTaxPrice * TAX_RATE);\n","language":"javascript","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"const TAX_RATE = 0.1;\n\nlet preTaxPrice = 100;\n\nlet afterTaxPrice = preTaxPrice + (preTaxPrice * TAX_RATE);\n"}]}]},{"type":"element","tag":"h2","props":{"id":"_4-const-키워드와-객체"},"children":[{"type":"text","value":"4. const 키워드와 객체"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"const 키워드로 선언된 변수에 원시 값을 할당한 경우 값을 변경할 수 없다. 하지만 객체를 할당한 경우 값을 변경할 수 있다.\n"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"그 이유는 원시 값은 변경 불가능한 값이지만"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"객체는 변경 가능한 값이기 때문에 재할당 없이 직접 변경이 가능하다."}]}]}]}]},{"type":"element","tag":"pre","props":{"className":["language-javascript"],"code":"const person = {\n    name: 'Lee'\n};\n\nperson.name = 'kim';\n\nconsole.log(person.name); // kim\n","language":"javascript","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"const person = {\n    name: 'Lee'\n};\n\nperson.name = 'kim';\n\nconsole.log(person.name); // kim\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"const는 재할당을 금지할 뿐 “"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"불변"}]},{"type":"text","value":"”을 의미하지는 않는다."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"\\n"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"결론: ES6를 사용한다면 var를 쓸 이유는 없다."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"\\n"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"참고"},"children":[{"type":"text","value":"참고"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"이웅모, 「모던 자바스크립트 Deep Dive」, 위키북스, 2020"}]}]}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"_1-변수-중복-선언-허용","depth":2,"text":"1. 변수 중복 선언 허용"},{"id":"_2-함수-레벨-스코프","depth":2,"text":"2. 함수 레벨 스코프"},{"id":"_3-변수-호이스팅","depth":2,"text":"3. 변수 호이스팅"},{"id":"_1-변수-중복-선언-금지","depth":2,"text":"1. 변수 중복 선언 금지"},{"id":"_2-블록-레벨-스코프","depth":2,"text":"2. 블록 레벨 스코프"},{"id":"_3-변수-호이스팅-1","depth":2,"text":"3. 변수 호이스팅"},{"id":"_4-전역-객체와-let","depth":2,"text":"4. 전역 객체와 let"},{"id":"_1-선언과-초기화","depth":2,"text":"1. 선언과 초기화"},{"id":"_2-재할당-금지","depth":2,"text":"2. 재할당 금지"},{"id":"_3-상수","depth":2,"text":"3. 상수"},{"id":"_4-const-키워드와-객체","depth":2,"text":"4. const 키워드와 객체"},{"id":"참고","depth":2,"text":"참고"}]}},"_type":"markdown","_id":"content:posts:2c7bdebd-8baa-46a1-b05b-61bda16d93f4.md","_source":"content","_file":"posts/2c7bdebd-8baa-46a1-b05b-61bda16d93f4.md","_extension":"md"}